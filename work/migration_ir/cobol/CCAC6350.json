{
  "programId": "CCAC6350",
  "purpose": "Summarizes 1099 reportable items by location code, SSN/EIN, tax type, TIN indicator, and branch for year-end reporting. Outputs a summary file with trailer records for each location code, including record counts and summarized amounts. Manual checks are reported as individual records.",
  "files": [
    {
      "name": "TEN99-M01R-1099-MASTER-FILE",
      "type": "input",
      "record": "TEN99-M01R-1099-MASTER-RCD",
      "description": "1099 Master File"
    },
    {
      "name": "TEN99-R01R-CONTROL-CARD",
      "type": "input",
      "record": "TEN99-R01R-CONTROL-CARD-RCD",
      "description": "Control Card for 1099 Date"
    },
    {
      "name": "TEN99-C01W-1099-SUMMARY-FILE",
      "type": "output",
      "record": "TEN99-C01W-1099-SUMMARY-RCD",
      "description": "Year-End Summary File for 1099 Reporting"
    },
    {
      "name": "CC-E01W-DISPLAY-FILE",
      "type": "output",
      "record": "CC-E01W-DISPLAY-RCD",
      "description": "Display File for messages and statistics"
    }
  ],
  "copybooks": [
    "C2INX003",
    "C2INZ001",
    "C2INZ002",
    "C2INZ003",
    "C2INZ004",
    "C2INZ005"
  ],
  "workingStorage": {
    "flags": [
      {
        "name": "WS-EOF-SW",
        "type": "flag",
        "values": [
          {
            "value": "Y",
            "meaning": "END-OF-INPUT"
          }
        ]
      },
      {
        "name": "MASTER-HEADER",
        "type": "condition",
        "values": [
          {
            "value": "LOW-VALUES",
            "meaning": "Header record in master file"
          }
        ]
      },
      {
        "name": "MASTER-TRAILER",
        "type": "condition",
        "values": [
          {
            "value": "HIGH-VALUES",
            "meaning": "Trailer record in master file"
          }
        ]
      }
    ],
    "counters": [
      "WS-TOT-RECDS-READ",
      "WS-TOT-WRITTEN-CNT",
      "WS-1099-TRLR-CNT",
      "WS-TOT-1099-AMT",
      "WS-1099-TRLR-AMOUNT",
      "WS-TOT-BATCH-NUM"
    ],
    "accumulators": [
      "WS-CALC-TOT-AMOUNT",
      "WS-MANUAL-TOT-AMOUNT",
      "WS-1099-TRLR-AMOUNT"
    ],
    "keyFields": [
      {
        "name": "WS-CURR-REC-KEY",
        "fields": [
          "WS-CURR-TAXID",
          "WS-CURR-TAX-TYPE",
          "WS-CURR-TAX-IND"
        ]
      },
      {
        "name": "WS-PREV-REC-KEY",
        "fields": [
          "WS-PREV-TAXID",
          "WS-PREV-TAX-TYPE",
          "WS-PREV-TIN-IND"
        ]
      },
      {
        "name": "WS-M01R-OPER-LOC-CODE",
        "description": "Operation Location Code"
      },
      {
        "name": "WS-M01R-SOC-SEC-NUM",
        "description": "Social Security Number"
      },
      {
        "name": "WS-M01R-TAX-TYPE",
        "description": "Tax Type"
      },
      {
        "name": "WS-M01R-TIN-IND",
        "description": "TIN Indicator"
      },
      {
        "name": "WS-M01R-BR-DEPT",
        "description": "Branch Department"
      }
    ]
  },
  "controlFlow": {
    "mainEntry": "0000-MAINLINE",
    "termination": "GOBACK",
    "paragraphs": [
      "0000-MAINLINE",
      "1000-GENERAL-HOUSEKEEPING",
      "1400-OPEN-FILES",
      "1600-INITIALIZATION",
      "1700-INIT-FIRST-DISPLAY-RCD",
      "3000-PROCESS-MASTER-FILE",
      "3100-BREAK-FOR-BRANCH",
      "3200-BREAK-FOR-SOC-SEC-NUM",
      "3300-BREAK-FOR-OPER-LOC-CODE",
      "3900-SET-RECORD-KEY",
      "4000-CREATE-SUMM-OUT-RECORD",
      "4100-CREATE-MANUAL-OUT-RECORD",
      "4200-CHECK-ZIP-CODE",
      "4250-CHECK-NUMERIC-ZIP",
      "4260-CHECK-ALPHA-ZIP",
      "5000-PROCESS-TRAILER",
      "7000-READ-CONTROL-CARD",
      "7500-READ-MASTER-FILE",
      "8700-WRITE-OUTPUT-RECORD",
      "9000-CLOSING-ROUTINE",
      "9100-WRITE-LAST-DISPLAY-RCD",
      "9998-COREDUMP",
      "9999-CLOSE-FILES"
    ],
    "errorExits": [
      "9998-COREDUMP"
    ]
  },
  "patterns": {
    "isTwoWayMerge": false,
    "isGroupSummarize": true,
    "isMasterUpdateMerge": false,
    "isFormatterHeadersTrailers": true,
    "isLookupEnrichment": false,
    "notes": [
      "Program summarizes 1099 records by key fields and outputs a trailer per group.",
      "Manual checks are handled as individual records.",
      "Trailer records contain record counts and summarized amounts for each location code.",
      "Error handling and core dump on fatal errors.",
      "Uses copybooks for initialization, display, and file closing routines."
    ]
  }
}