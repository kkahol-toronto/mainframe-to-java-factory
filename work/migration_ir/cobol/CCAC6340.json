{
  "programId": "CCAC6340",
  "purpose": "Mechanically flag 1099 master file records that have matching SSNs on the corporate extract file. The master and corporate files must be sorted by SSN in ascending order. A master file is required every month; the corporate file may be empty on the initial run.",
  "files": [
    {
      "name": "TEN99-T01R-CORPORATE-FILE",
      "type": "input",
      "recordName": "TEN99-T01R-CORPORATE-RCD"
    },
    {
      "name": "TEN99-M01R-MASTER-IN-FILE",
      "type": "input",
      "recordName": "TEN99-M01R-MASTER-IN-RCD"
    },
    {
      "name": "TEN99-R01R-CONTROL-FILE",
      "type": "input",
      "recordName": "TEN99-R01R-CONTROL-RCD"
    },
    {
      "name": "TEN99-M01W-MASTER-OUT-FILE",
      "type": "output",
      "recordName": "TEN99-M01W-MASTER-OUT-RCD"
    },
    {
      "name": "CC-E01W-DISPLAY-FILE",
      "type": "output",
      "recordName": null
    }
  ],
  "copybooks": [
    "C2INX001",
    "C2INX002",
    "C2INX003",
    "C2INZ001",
    "C2INZ002",
    "C2INZ003",
    "C2INZ004",
    "C2INZ005"
  ],
  "workingStorage": {
    "flags": [
      "WS-CONTROL-CARD-FLG",
      "WS-CORPORATE-FLG",
      "WS-MASTER-FLG",
      "WS-TRAILER-REACHED"
    ],
    "counters": [
      "WS-MAST-IN-CNT",
      "WS-MAST-OUT-CNT",
      "WS-ORIGINAL-IN-CNT-TOTAL"
    ],
    "accumulators": [
      "WS-MAST-IN-AMT",
      "WS-MAST-OUT-AMT",
      "WS-ORIGINAL-IN-AMT-TOTAL"
    ],
    "keyFields": [
      "TMMID-SOCIAL-SEC-NUMBER",
      "TTCD-SOCIAL-SEC-NUMBER"
    ]
  },
  "controlFlow": {
    "mainEntry": "0000-MAINLINE",
    "termination": "9000-END-OF-JOB",
    "paragraphs": [
      "0000-MAINLINE",
      "1000-INITIALIZATION",
      "1010-OPEN-FILES",
      "1020-INITIALIZE-SYSOUT",
      "2000-MAIN-PROCESS",
      "2200-PROCESS-ENTIRE-MASTER",
      "7000-READ-CONTROL-CARD",
      "7100-READ-CORPORATE-FILE",
      "7200-READ-MASTER-FILE",
      "8000-WRITE-MASTER-OUT",
      "8500-WRITE-NEW-TRAILER-OUT",
      "8999-WRITE-SYSOUT",
      "9000-END-OF-JOB",
      "9010-WRAP-UP",
      "9998-COREDUMP",
      "9999-CLOSE-FILES"
    ],
    "errorExits": [
      "9998-COREDUMP"
    ]
  },
  "patterns": {
    "isTwoWayMerge": false,
    "isGroupSummarize": false,
    "isMasterUpdateMerge": true,
    "isFormatterHeadersTrailers": true,
    "isLookupEnrichment": true,
    "notes": [
      "The program reads two sorted files (master and corporate) and flags master records with matching SSNs from the corporate file.",
      "Headers and trailers are processed and validated for both input and output files.",
      "The program accumulates counts and amounts, and validates them at end-of-job.",
      "If the corporate file is empty, the master file is processed without enrichment."
    ]
  }
}